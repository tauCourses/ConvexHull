from subprocess import Popen, PIPE

tests = [([(-37, -25), (30, -39), (-24, -15), (50, -25), (-43, 33), (46, 24), (16, 9), (-46, -19), (-50, 47), (-50, 2),
           (-1, 11), (30, -17), (33, 9), (50, -3), (27, -50), (-47, -42), (37, -23), (21, 6), (49, -30)],(46, 24, -32, -13), 2886),
         ([(-1,2),(2,-1),(2,2)],(4,4,0,0), 3.5),
         ([(1, 1), (1, 2), (2, 2), (2, 3)], (4, 4, 0, 0),  1),
         ([(2, 2), (3, 3), (4, 2), (3, 0)], (4, 4, 0, 0),  3 ),
         ([(1, 3), (3, 2), (3, 5), (2, 5)], (4, 4, 0, 0),  2.75),
         ([(0, 1), (3, 0), (4, 2), (2, 4)], (4, 4, 0, 0),  8.5),
         ([(1, 1), (2, 0), (3, 2), (4, 1), (5, -1)], (4, 4, 0, 0),  4),
         ([(3, 2), (-1, 6), (-1, -2)], (4, 4, 0, 0),  8),
         ([(1, 2), (5, 6), (5, -2)], (4, 4, 0, 0),  8),
         ([(2, 1), (-3, 5), (7, 5)], (4, 4, 0, 0),  8.8),
         ([(2, 3), (-3, -1), (7, -1)], (4, 4, 0, 0),  8.8),
         ([(-1, 2), (2, -1), (5, -1), (5, 5), (-1, 5)], (4, 4, 0, 0),  15.5),
         ([(-1, -1), (2, -1), (5, 2), (5, 5), (-1, 5)], (4, 4, 0, 0), 15.5),
         ([(-1, -1), (5, -1), (5, 2), (2, 5), (-1, 5)], (4, 4, 0, 0), 15.5),
         ([(-1, -1), (-1, 2), (2, 5), (5, 5), (5, -1)], (4, 4, 0, 0), 15.5),
         ([(4, 1), (4, 3), (5, 3), (5, 1)], (4, 4, 0, 0), 0.0),
         ([(0, 0), (0, 4), (4, 4), (4, 0)], (4, 4, 0, 0), 16.0),
         ([(-1, 0), (-1, 4), (4, 4), (4, 0)], (4, 4, 0, 0), 16.0),
         ([(-1, -1), (-1, 5), (4, 5), (4, -1)], (4, 4, 0, 0), 16.0),
         ([(5, 0), (5, 4), (-1, 0), (-1, 4)], (4, 4, 0, 0), 16.0),
         ([(-1, -1), (3, -1), (5, 1), (5, 3), (3, 5), (-1, 5)], (4, 4, 0, 0), 16.0),
         ([(2, -1), (5, 2), (2, 5), (-1, 2)], (4, 4, 0, 0), 14.0),
         ([(2, -1), (5, 5), (5, 5), (-1, 2)], (4, 4, 0, 0), 11.0),
         ([(-1, -1), (-1, 5), (5, 5), (5, -1)], (4, 4, 0, 0), 16.0),
         ([(-1, -1), (3, -1), (5, 1), (5, 5), (-1, 5)], (4, 4, 0, 0), 16.0),]


def run_tests(tests):
    for test in tests:
        with open("a", "w") as f:
            f.write("%d" % len(test[0]))
            for point in test[0]:
                f.write(" %d %d" % (point[0],point[1]))
        with open("b", "w") as f:
            f.write("%d %d %d %d" % (test[1][0],test[1][1],test[1][2],test[1][3]))

        p = Popen(['python3', 'ConvexShape.py', 'b', 'a', 'DEBUG'], stdin=PIPE, stdout=PIPE, stderr=PIPE)
        output, err = p.communicate()
        if abs(float(output) - float(test[2])) > 0.00001:
            print("excepted %f got %f" % (test[2], float(output)))
            print("(%s,%s,%f)," % (str(test[0]), str(test[1]), test[2]))
            return
        else:
            print("pass")

run_tests(tests)

'''
([(-9160, -8637), (-1975, -8450), (-7950, 4199), (-6327, -5818)],(-8677, 251, -6258, -649),1895924.181988),
([(2635, -1614), (1692, 5730), (-5410, -5461), (3725, 3770)],(7415, -6102, -3836, 8167),36536537.186046),
([(-1581, 1794), (-1339, -594), (-345, 389), (-982, -265), (2084, -1895), (2004, 1705), (1, 1720), (-2538, -406), (-931, -274)],(-968, -2222, -310, 532),1019750.092168),
([(-2818, -3089), (-1383, 4025), (-5536, 1037), (4324, 5382), (1060, -2026), (-2996, -3224), (-1006, 2191)],(3088, -511, -1520, 2406),11347533.213823),
([(-4146, -4647), (-9092, -5027), (-8861, 2838), (3699, 9503), (-1018, 5552), (-6741, -5461), (8919, -5196), (2382, -3227), (-7034, 8209), (-7453, 9650), (9302, 7203)],(5736, -8456, 4416, -2386),3795041.724138),
([(-143, -71), (-135, 83), (-45, -21), (77, -69), (-68, 121), (130, -9), (32, -11)],(-115, -72, 7, 91),19383.315385),
([(-167, 95), (-390, -392), (307, 449), (-26, -164), (320, -45), (-225, -16), (-99, 331), (-371, 287)],(99, -268, 140, 10),6272.624648),
([(-224, -789), (-759, -113), (345, 316), (-64, -442), (-196, -827), (-580, -564), (-135, 56), (328, -870), (501, -416), (76, 831)],(-200, -137, -657, -134),1371.000000),
([(8976, -5923), (-6178, 3557), (-7551, -6135), (4715, 8179), (-5976, -3159), (514, 7670), (-6428, 5446), (-487, -7169)],(8926, -8089, -4040, 5086),134377071.325319),
([(8384, 6240), (-293, -7753), (-3736, -5279), (7914, 1943), (-2288, 3561), (-9145, -1919)],(2258, -3587, 6491, 3127),22151076.766810),
([(5165, 6781), (1922, -5806), (-3887, 6311), (-3056, -4883), (2019, -6413), (-4059, -532), (5275, 6202), (5229, -846), (3765, -1272), (6018, -4545)],(-2147, -2174, -87, 3410),11503040.000000),
([(-4852, -196), (5079, -5951), (3159, 4782), (1539, -336), (-5137, -1232), (-633, 576), (-1223, 4776), (-104, 3283), (878, 1155), (-5505, 2025), (785, 2599)],(-2700, 3298, 161, 937),6754821.000000),
([(89, -140), (-3815, -70), (-3769, -2988), (-2915, -1014), (2430, 838), (-2948, 760), (-3502, 1906)],(-311, 1099, 334, 253),545670.000000),
([(-641, -1020), (-868, 989), (-323, -431), (720, 1373), (1024, -1322), (-1153, 386), (-343, 1001), (1202, -1069), (-223, 612)],(-910, 361, -405, 865),254520.000000),
([(3151, -4390), (4428, 696), (-232, 939), (-1461, 6526), (-4778, 5550), (5685, 6125), (-6969, 2161)],(-417, -3757, -461, 6957),375528.041556),
([(384, 1083), (-1644, 1631), (1224, -1718), (-1598, 405), (819, 1711), (194, 833), (1628, 452)],(1395, 1746, 1854, 385),57436.548372),
([(94, -318), (487, 509), (242, -659), (476, 765), (570, -500), (741, 826), (-682, -735), (181, -627), (-283, 500)],(-631, 126, 761, 740),537725.675455),
([(7064, -7678), (-7660, -8644), (6812, -2274), (-1567, 3318), (-7302, -3538), (8784, -3137), (3251, -9051), (-2518, -6307), (-8902, -7765), (-4483, 7672), (-6824, 1239), (-7754, -1859)],(8640, -7115, 1342, -6094),6257311.707113),
([(1157, 3723), (3283, 1691), (-3493, -5678), (8560, 6453), (-5686, -3106), (-2348, -1597), (7230, -643), (-5492, -8625)],(-6762, -3186, 9630, 9362),71910594.219939),
([(-380, 319), (-651, -813), (-468, -81), (-222, 406), (-482, 880), (-350, 389), (917, 761), (-797, 573), (273, 941), (308, 742), (-79, -913)],(-927, 595, -192, 37),322209.942007),
([(2925, 912), (328, 3220), (1513, -2460), (-2936, 3229), (-2873, 1765), (1463, 928), (-2029, 1547), (456, -869), (-24, 3201), (-2075, 612), (736, 2981)],(-2991, 3844, -1909, 2996),236668.766461),
([(-125, -229), (136, -90), (95, 193), (177, -94), (-156, 46)],(-32, 29, -183, 154),6594.244774),
([(-43, -3964), (-2805, 3714), (-4214, -4641), (-5585, -4498), (5640, -2183), (3671, 3830), (3446, 2184), (-1239, 4238), (-989, -2958)],(137, -2383, -1928, -142),4627665.000000),
([(-5127, 3947), (5263, 8460), (6445, 7597), (9289, 1757), (619, -2755), (-761, -4917)],(8438, -7728, -7346, 6937),100191660.179508),
([(-785, 1862), (-601, -451), (310, 1825), (50, 1273), (2254, 1112), (1461, 2403), (1077, -543), (2403, -97), (470, 2439), (-692, 853), (2257, -1166)],(-75, 665, 1437, 817),229824.000000),
([(266, -2618), (-627, 122), (1074, -2447), (-3119, 2171), (-1468, -39)],(3013, -1651, -2242, 638),2250975.843073),
([(-129, -626), (147, -598), (-480, -711), (-477, -663), (-544, 675), (486, -417), (-241, 507), (-312, -696), (-94, 63)],(-190, -147, 524, -263),59067.099567),
([(2488, -398), (13, 4139), (-2157, -156)],(-683, 2699, -2639, 3827),984.685354),
([(-463, 1099), (524, -1103), (-681, -782), (1078, 147), (-1074, 702), (416, -572), (-139, -1158)],(-889, 673, -1148, 705),5801.715480),
([(-3723, 3361), (3429, -3088), (2106, -2977), (3001, -1359), (-2846, 3661), (-696, -983), (4228, 4192), (4386, 835)],(2230, -2976, -1210, 2219),13866033.539216),
([(-4523, -4851), (1706, -5257), (-5820, 2681), (962, -960), (-5973, -6129), (-413, 5748), (-1600, 4772), (-196, 1948), (-2115, 3647), (2469, 4207), (-5671, 252), (1088, -4874)],(-1331, -6254, 2923, -1080),13912548.720861),
([(-2277, -3336), (-1537, -4366), (6562, -5027), (4740, 4920), (6243, 5118)],(68, 2926, 4573, -6263),29054212.777089),
([(-1823, -3331), (6104, 4016), (-8075, 4171), (9146, -9755), (6104, -9753), (-693, 5486), (5816, 1413), (-6222, 6355), (-3064, -2922), (7388, -3396), (-8587, -6823), (-8027, 7420)],(-2542, 1804, 324, -4081),16866410.000000),
([(-6072, -436), (-3022, 6538), (-5711, -3710), (-4783, 4199), (-3304, -1713), (7127, -3650), (-23, -7005), (-2311, 6742), (-1262, -2399), (7069, -6761), (-6673, -5844)],(-3904, -5347, -2379, -3542),2752625.000000),
([(-899, 2983), (-3659, 6972), (335, -4815), (-6821, 6657), (-2833, 8203), (1349, 1056), (-2208, 5922), (7347, 2501), (-5489, 8066), (245, -150)],(3565, 155, -135, 6559),20336416.955253),
([(45, 1526), (3096, -102), (-2455, 705), (-2922, -2851), (1155, -1888), (-1357, 1923), (655, 2744), (3076, -945), (-2164, -2891)],(2695, -3302, 2399, 1925),515859.495049),
([(-2948, -2668), (-3503, -3428), (-569, -3583), (723, -410), (59, -6583), (-975, -1649)],(-4000, -794, 171, -4975),9904295.482305),
([(-957, 1798), (2262, -1953), (-405, -538), (-127, 2369)],(-2035, 1923, -593, -2095),314497.681692),
([(456, 226), (-73, 539), (712, 145), (-880, 426), (311, 509)],(-51, -454, 106, 746),41656.657389),
([(5298, 5272), (-4192, 2774), (6609, -2226), (-913, -7606), (4407, -3666)],(3818, -1689, -7989, 9088),41046817.327848),
([(-1862, -3209), (-5745, 3500), (-7834, -6695), (-4837, 815), (1257, 437), (7133, 7769), (-3069, 4558), (-1771, -1446), (5303, 1005), (-4588, 6418), (6017, 3817), (-1145, 175)],(-1151, 6060, -684, -3798),4069206.748639),
([(-8374, 7326), (-9007, 8607), (5798, 1553), (8925, 9398), (8065, 4453), (5562, -6688), (8182, -8119), (4902, -4690), (-1160, 8961), (2289, 4693), (7849, 211)],(3003, 3123, 5812, -5214),22817740.935216),
([(-74, 751), (-1361, -149), (-652, -480), (-265, -157), (932, -1150), (58, 1097), (-525, -1321), (-39, 260), (-647, -536), (-551, 1390)],(590, -1140, 783, -1323),7490.903569),
([(435, 2065), (-3141, -3792), (4138, -2512), (-2888, -2962), (3026, -2663), (869, 3333), (-3944, -1595), (-2776, 2827)],(-1727, -4152, 3361, 1669),22064848.977533),
([(-563, 3495), (-1402, -1332), (5741, -1686), (-98, 2027)],(-2254, 2794, 4481, 1607),2136706.367215),
([(4361, 1939), (-3982, -4483), (2613, -3857), (-4246, 3287), (-1889, -5011), (4805, 3097), (223, -2745), (-2416, 5521), (-4841, -4607), (854, 4281), (-2875, -2532), (-575, 2252)],(889, -1508, 3608, -1135),941163.211964),
([(-6234, -15), (5236, 3517), (-2897, 836), (-1061, 869), (5536, 3), (-1640, 3276), (-338, -334), (1388, 3389), (3285, -6421), (-5534, 1621), (-5698, 6002), (3593, -5489)],(-2483, 1757, -2109, 1650),40018.000000),
([(-5302, -2613), (-363, -5481), (1458, 2787), (-2858, -3198), (-3674, -879), (4968, -5543), (2126, 1502), (-3997, -1062), (5061, 3472), (1830, -4548), (2237, 1785), (4818, -3033)],(-1233, -1680, -4477, -971),2113532.009196),
([(-756, 573), (-1054, -2377), (2473, 429), (1794, -679), (2110, 741)],(-381, -2407, 1760, 262),3424554.307935),
([(-5383, 2616), (4902, -628), (3203, -3759), (5615, 3192), (3020, -5622), (-5027, 4406), (733, 5358), (-23, -2637), (3983, 35), (767, -1298), (1409, -1542)],(-2451, 2473, 4113, 5165),15410359.226827),
'''
